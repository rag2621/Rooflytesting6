<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore - Roofly</title>
    <link rel="stylesheet" href="listedproperty.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <script>
        window.addEventListener('load', function () {
            const formSection = document.getElementById('amenities');
            if (formSection) {
                formSection.scrollIntoView({ behavior: 'smooth' });
            }
        });
    </script>
    <style>
        .contact-form {
            margin-top: 24px;
            padding: 16px;
            background-color: #f9f9f9;
            border-radius: 12px;
        }
    
        .contact-form h2 {
            margin-bottom: 16px;
            font-size: 20px;
            font-weight: 600;
        }
    
        .form-group {
            margin-bottom: 12px;
            display: flex;
            flex-direction: column;
        }
    
        .form-group label {
            margin-bottom: 6px;
            font-size: 14px;
            font-weight: 500;
        }
    
        .form-group input {
            padding: 8px 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 14px;
        }
    
        button[type="submit"] {
            margin-top: 10px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }
    
        button[type="submit"]:hover {
            background-color: #0056b3;
        }
    </style>
    
    <style>
        .details-content {
            display: flex;
            flex-wrap: wrap;
            gap: 8px 16px; /* controls vertical and horizontal spacing */
            padding-top: 8px;
        }
    
        .detail-item {
            background-color: #f1f1f1;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }
    </style>

  
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <a class="logo">
                <img src="LOGO.png" alt="Ghor Logo" class="logo-img">
            </a>
            
            <div class="nav-links">
                <a href="javascript:void(0)"  onclick="window.location.replace('/landingpage')">Home</a>
                <a href="javascript:void(0)" onclick="window.location.replace('/listing')">Properties</a>
                <a href="javascript:void(0)" onclick="window.location.replace('#services')">Services</a>
                <a href="javascript:void(0)" onclick="window.location.replace('#about')">About</a>
            </div>
            
            <div class="nav-right">
                <a href="tel:+918219594947" class="phone-number">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    +91 8219594947
                </a>
                <div class="profile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Property Section -->
    <main class="property-details">
        <div class="container">
            <div class="property-grid">
                <div class="property-image">
                    <img  alt="Luxury Family Home" id="propertyImage">
                    <div class="slider-nav">
                        <button class="slider-btn prev-btn" onclick="changeImage(-1)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slider-btn next-btn" onclick="changeImage(1)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                    <div class="image-counter">
                        <span id="currentImage">1</span>/<span id="totalImages">15</span>
                    </div>
                </div>
                <div class="property-info">
                    <h1 id="Title"></h1>
                    <div class="property-stats">
                        <span id="beds">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                        
                        </span>
                        <span id="baths">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 4h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z"></path>
                                <path d="M12 4v16"></path>
                            </svg>
                            
                        </span>
                        <span id="areas">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            </svg>
                           
                        </span>
                    </div>
                    <div class="location" id="location">

                        
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        <span id="addressText">Loading...</span>
                    </div>
                    <div class="price">Undefined</div>
                    
                </div>
            </div>

            <!-- Additional Details -->
            <div class="additional-details" id="amenities">
                <h2>Amenties</h2>
                <div class="details-content" id="amenitiesContainer">
                    <!-- JS will inject amenities here -->
                </div>
            </div>

            <!-- Similar Properties -->
            <div class="Enquiry Form" id="contactForm">
                <h2>Submit this form and get a call from our representatives</h2>
                <form id="inquiryForm" onsubmit="submitInquiry(event)">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required />
                    </div>
            
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required />
                    </div>
            
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="tel" id="phone" name="phone" required />
                    </div>
            
                    <button type="submit">Submit</button>
                </form>
            </div>
           
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>About Us</h4>
                    <p>Roofly is your trusted partner in finding the perfect property. We make real estate simple and accessible.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/landingpage">Home</a></li>
                        
                
                        <li><a href="#about">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Us</h4>
                    <p>Email: contact@rooflyestates.com</p>
                    <p>Phone: +91 77977 89073</p>
                   
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Roofly. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script>

        let property;
     async function fetchPropertyDetails() {
           const propertyId = localStorage.getItem("Interest");
           if (!propertyId) {
             alert("No property selected!");
             return;
           }
     
           try {
             const response = await fetch(`/api/properties/${propertyId}`);
             property = await response.json();
             if (!property) {
               alert("Property not found!");
               return;
             }
             else{
                 
     
                 display();
             }
            
           } catch (error) {
             console.error("Error fetching property:", error);
             alert("Failed to fetch property details.");
           }
         }
     
         async function submitInquiry(event) {
           event.preventDefault();
           const confirm = await fetch('/interest', {
             method: 'POST',
             headers: { "Content-Type": "application/json" },
             body: JSON.stringify({
               Name: document.getElementById("name").value,
               Email: document.getElementById("email").value,
               Phone: document.getElementById("phone").value,
               PropertyId: localStorage.getItem("Interest")
             }),
           });
     
           const status = await confirm.json();
           alert(status.status === "OK" ? "Details submitted" : "Sorry, some error occurred.");
         }
     
     
         window.onload=fetchPropertyDetails;
     
         function display(){
             document.getElementById("propertyImage").src=property.Images[0];
             document.getElementById("Title").innerText=property.Title;
             document.getElementById("beds").childNodes[0].nodeValue=`${property.Bed} Bed${property.Bed > 1 ? 's' : ''}`;
             document.getElementById("baths").childNodes[0].nodeValue=`${property.Bath} Bath${property.Bath > 1 ? 's' : ''}`;
             document.getElementById("areas").childNodes[0].nodeValue=`${property.Area} sqft`;
             document.getElementById("addressText").innerText = property.Location;
             const container = document.getElementById("amenitiesContainer");
     
     property.Amenities.forEach(item => {
         const div = document.createElement("div");
         div.className = "detail-item";
         div.innerHTML = `<span>${item}</span>`;
         container.appendChild(div);
     });
     const images = property.Images;
            
            let currentIndex = 0;
            const propertyImage = document.getElementById('propertyImage');
            const currentImageSpan = document.getElementById('currentImage');
            const totalImagesSpan = document.getElementById('totalImages');
                
            totalImagesSpan.textContent = images.length;
                
            // Function to change image based on the direction
            window.changeImage = function(direction) {
                currentIndex = (currentIndex + direction + images.length) % images.length;
                propertyImage.src = images[currentIndex];
                currentImageSpan.textContent = currentIndex + 1;
            }
                
            // Preload images
            images.forEach(src => {
                const img = new Image();
                img.src = src;
            });
     
     
     
      
     
     
     
             }
     
         </script>
</body>
</html> 
